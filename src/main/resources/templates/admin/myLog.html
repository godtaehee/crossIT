<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">

<head>
  <th:block th:include="layout/fragment/head :: head"></th:block>
</head>

<style>

  /*util*/

  .flex {
    display: flex;
  }

  .button {
    padding: 0.5em 1em;
    border: #dbdbdb 1px solid;
  }

  .button.basic {
    /*background-color: #28a745;*/
  }

  .user-profile {
    height: 12em;
  }

  .introduction {
    flex-direction: column;
    justify-content: space-around;
  }

  .user-name {
    display: flex;
  }

  .nickname {
    font-size: 1.5em;
    font-weight: bold;
  }


</style>

<body>

<div class="container">

  <header th:replace="layout/fragment/header :: header"></header>

  <div th:if="${message != null}" class="" role="alert">
    <span th:text="${message}">메시지</span>
    <button type="button" class="close" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <!-- 유저 자신의 프로필일때-->
  <div class="user-profile flex">
    <svg th:if="${#strings.isEmpty(member?.profileImage)}" th:data-jdenticon-value="${#authentication.name}"
         width="150" height="150"></svg>
    <img th:if="${!#strings.isEmpty(member.profileImage)}" class=""
         th:src="${member.profileImage}"
         width="150" height="150"/>
    <div class="introduction flex">
      <div class="user-name flex">
        <div class="nickname" th:text="${member.nickname}">Minchocho</div>
        <a class="button basic" th:if="${isOwner}"
           th:href="@{/settings/profile}">프로필 수정</a>
      </div>
      <div class="subtitle is-6 mb-2" th:text="${member.introduction}?: '소개글이 없습니다.'"></div>
      <div class="profile-location">
        <i class="fas fa-map-marker-alt mr-2"></i>
        <div class="is-size-7 mb-1 " th:text="${member.location}?: '사시는 지역을 설정해주세요.'">korea</div>
      </div>
      <div class="profile-phone">
        <i class="fas fa-phone-alt mr-1"></i>
        <div class="is-size-7" th:text="${member.contact}?: '연락처를 설정해 주세요.'">
          Contact : oowwo@gmail.com
        </div>
      </div>
      <p th:if="${isOwner || member.emailVerified}">
        <span><i class="fa fa-calendar-o"></i></span>
        <span th:if="${isOwner && !member.emailVerified}">
              <a href="#" th:href="@{'/checkemail?email=' + ${member.email}}"
                 class="is-size-7">가입을 완료하려면 이메일을 확인하세요.</a>
            </span>
        <span th:text="${#temporals.format(member.joinedAt, 'yyyy년 M월 가입')}"></span>
      </p>
    </div>

    <div class="profile-btn">
      <button class="button is-rounded is-small" id="open">팀원신청</button>
      <button class="button is-rounded is-small">follow</button>
    </div>
    </form>
  </div>


  <!--유저 프로필 영역 end -->

  <div class="category">
    <div class="tabs ">
      <ul>
        <li class="is-active"><a>글</a></li>
        <li><a>작업물</a></li>
        <li><a>소개</a></li>
        <li><a>정보</a></li>
      </ul>
    </div>
  </div>


  <section class="section contents">

    <section class="tag-list">
      <p class="mt-6">태그 목록</p>
      <hr class="mt-2" width="100px">
      <span class="tagList">
                <p class="mr-2"> 전체 보기 </p> 
                <p>(20)</p>
            </span>
    </section>

    <section class="hero is-small">

      <div class="searchtags">
        <div class="search-form search">
          <p class="control has-icons-left">
            <input class="input is-hovered is-small" type="text" placeholder="검색어를 입력하세요">
            <span class="icon is-left">
            <i class="fas fa-search" aria-hidden="true"></i>
            </span>
          </p>
          <a href="/board/write">
            <button class="btn-write button is-rounded">글쓰기</button>
          </a>
        </div>
      </div>

      <div class="hero-body">
        <div class="container">
          <div class="columns mr-0">
            <div class="column is-8 is-offset-1">
              <figure class="image is-16by9">
                <img src="/img/index.png" alt="">
              </figure>
            </div>
          </div>

          <section class="section">
            <div class="columns">
              <div class="column is-8 is-offset-1">
                <div class="content is-medium">
                  <h1 class="title is-3">Getting Started</h1>
                  <p>This is a starter template for creating a beautiful, customizable blog with minimal
                    effort. You’ll only have to change a few settings and you’re ready to go. As with all Jigsaw
                    sites,
                    configuration settings can be found in config</p>
                  <h2 class="subtitle is-6">December 25, 2018</h2>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </section>


</div>

<div class="modal modal-fx-fadeInScale">
  <div class="modal-overlay"></div>
  <div class="modal-content ">
    <form th:action="@{/admin/sendTeam}" th:object="${member}" method="post">
      <h2 class="mb-4" th:text="*{nickname}"> Minchocho </h2> 님께 팀요청을 보내보세요!
      <div class="form-control">
        <label for="username">닉네임</label>
        <input type="text" id="username" placeholder="닉네임을 입력해주세요">
      </div>
      <div class="form-control">
        <label for="username">연락처(선택)</label>
        <input type="text" id="contact" placeholder="연락처를 입력해주세요">
      </div>
      <div class="form-control">
        <label for="username">메세지</label>
        <input type="text" id="message" placeholder="메세지를 입력해주세요" class="message">
      </div>
      <div class="form-control">
        <button class="button is-primary is-light" type="submit">전송하기</button>
      </div>
    </form>
    <button class="close">X</button>
  </div>
</div>


<script>

  (() => {

    const openBtn = document.getElementById("open");
    const modal = document.querySelector(".modal");
    const overlay = modal.querySelector(".modal-overlay");
    const closeBtn = modal.querySelector(".close");

    const test = (e) => {
      e.preventDefault();
      modal.classList.toggle('is-active');
    }

    overlay.addEventListener("click", test);
    closeBtn.addEventListener("click", test);
    openBtn.addEventListener("click", test);

  })();


</script>


</body>
</html>
